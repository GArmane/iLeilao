<ion-view view-title="iLeilão">

    <ion-content class="padding padrao">
        <h4 align="center">Solicitação de leilão</h4>
        <br>
        <form name="solicitacao" ng-submit="vm.salvarDados()">
            <label class="item item-input">
               <input type="text" placeholder="Título do leilão" ng-model="vm.dados.nome">
           </label>

            <div class="row">
                <div class="col bord col-center col-33" style="height: 155px; display: flex; align-items: center; justify-content: center;">
                    <img class="centro tama" ng-src="{{vm.dados.imagem || 'img/ionic.png'}}">
                </div>
                <div class="col">
                    <div class="row">
                        <div class="col">
                            <label class="item item-input">
                                <input type="text" placeholder="Lance inicial" ng-model="vm.dados.lote.valorMinimo">
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label class="item item-input">
                                <input type="text" placeholder="Incremento" ng-model="vm.dados.incrementoMinimo">
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label class="item item-input">
                                <input type="datetime" placeholder="Tempo de lance" ng-model="vm.dados.diasDuracao">
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <input type="file" accept="image/*" multiple="false" name="vm.dados.imagem" onchange="angular.element(this).scope().$parent.vm.base64(this)">

            <h4>Produtos:</h4>
            <div ng-repeat="item in vm.dados.lote.produtos">
                <div class="row">
                    <div class="col bord col-center col-25" style="height: 100px; display: flex; align-items: center; justify-content: center;">
                        <img class="tam centro" ng-src="{{item.imagem || 'img/ionic.png'}}">
                    </div>
                    <div class="col-75">
                        <div class="row">
                            <div class="col">
                                <label class="item item-input">
                                    <input type="text" placeholder="Título do produto" ng-model="item.nome">
                                </label>
                            </div>
                            <div class="col">
                                <label class="item item-input">
                                    <input type="text" placeholder="Quant." ng-model="item.quantidade">
                                </label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <label class="item item-input">
                                    <input type="text" placeholder="Descrição do produto" ng-model="item.descricao">
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <input type="file" accept="image/*" multiple="false" name="vm.dados.lote.produtos[{{$index}}].imagem" onchange="angular.element(this).scope().$parent.vm.base64(this)">
                </div>
            </div>
            <a ng-click="vm.dados.lote.produtos.push({})" class="button icon-left ion-plus button-block cor">+1 Produto</a>
            <br>
            <div align="right">
                <button type="submit" class="button icon-left ion-checkmark cor">Enviar solicitação</button>
            </div>
        </form>
    </ion-content>
</ion-view>